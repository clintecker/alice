? my $app = shift;

<div id="tabsets" class="config">
  <form onsubmit="return Alice.tabsets.submit(this)">
    <table>
      <tr>
        <td>
          <ul id="sets">
            <li class="header">Sets</li>
            <? for my $set (()) { ?>
              <li>
              <a href="#" onclick="Alice.tabsets.showSet('<?= $set->id ?>')">
                <?= $set->name ?>
              </a>
              </li>
            <? } ?>
            <li id="tabset_controls" class="controls">
              <a href="#" onclick="return Alice.tabsets.addSet()">New</a>
              <a href="#" onclick="return Alice.tabsets.removeSet()">Remove</a>
            </li>
          </ul>
        </td>
        <td id="tabset_data">
        <? for my $set (()) { ?>
         <select multiple="multiple" name="tabset_<?= $set->id ?>">
          <? for my $window ($app->sorted_windows) { ?>
            <option<?= $set->includes($window->id) ? " selected" : "" ?> value="<?= $window->id ?>">$window->name</option>
          <? } ?>
          </select>
        <? } ?>
        </td>
      </tr>
    </table>
    <div class="buttons">
      <button type="submit">Save</button>
      <button onclick="Alice.tabsets.remove(); return false;">Cancel</button>
    </div>
  </form>
</div>
